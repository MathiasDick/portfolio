1	Individual-Projekt (Hello World Projekt)
1.1	Aufgabenstellung
Mit der wachsenden Verbreitung von Smart-Home-Technologien steigt auch die Nachfrage nach intelligenten Zugangslösungen, insbesondere nach Smart-Türschlössern. Diese Systeme bieten eine Reihe von Vorteilen, darunter die Integration in bestehende Smart-Home-Ökosysteme, wie Amazon Alexa und Google Home, sowie eine erhöhte Sicherheit durch Fernverriegelung, Alarmfunktionen und Protokolle zur Nachverfolgung von Öffnungs- und Schließvorgängen. Zudem können Nutzer Benachrichtigungen über Zugangsversuche erhalten, was den Schutz vor unbefugtem Zutritt deutlich verbessert. 
Das zentrale Problem bei herkömmlichen mechanischen Türschlössern besteht darin, dass der Verlust von Schlüsseln oder die Vergabe von Duplikaten ein erhebliches Sicherheitsrisiko darstellt. Zudem sind mechanische Schlösser in Notfällen schwerer zugänglich und bieten keine Möglichkeit zur automatischen Überwachung von Zutrittsereignissen. Die Motivation dieses Projekts ist es, ein Smart-Schloss zu entwickeln, das auf einer benutzerfreundlichen und sicheren Authentifizierungsmethode basiert, um den Zugang zu erleichtern und gleichzeitig die Sicherheit zu erhöhen. Durch den Einsatz eines RFID-basierten Smart-Schlosses kann der Zutritt vereinfacht und sicherer gestaltet werden, indem Schlüssel durch digitale Authentifizierungsmethoden ersetzt werden.
 
1.2	Einordnung der Aufgabenstellung in übergeordnete Prozesse/Geschäftsziele
Im Rahmen des Projekts wurden praxisrelevante Kompetenzen vermittelt, die für das spätere Berufsleben essenziell sind. Ein zentraler Bestandteil war die Entwicklung einer Projektidee, wobei es mehrere Themengebiete zur Auswahl gab. Dabei mussten verschiedene Lösungsansätze entwickelt und anhand relevanter Kriterien gegeneinander abgewogen werden, eine Vorgehensweise, die in unternehmerischen Kontexten häufig erforderlich ist.
Zudem war eine eigenständige Einarbeitung in das Thema des Projekts notwendig. Dies umfasste sowohl die spezifische Recherche im Kontext der gewählten Idee als auch die Aneignung von Kenntnissen im Umgang mit Arduinos. Zur Informationsbeschaffung standen sowohl Online-Quellen als auch ein von den Studienbetreuern bereitgestelltes Dokument zur Verfügung. Diese Art der selbständigen Wissensaneignung ist im Unternehmensalltag von großer Relevanz, insbesondere in Situationen, in denen Projektverantwortliche kurzfristig ausfallen und eine schnelle Einarbeitung notwendig ist.
Ein weiterer Aspekt des Projekts war die eigenverantwortliche Materialbeschaffung. Während ein Starter-Set bereitgestellt wurde, mussten alle zusätzlichen Komponenten selbstständig beschafft werden. Dies erforderte die Berücksichtigung von Faktoren wie Kosten und Lieferzeiten, was auch in betrieblichen Prozessen regelmäßig von Bedeutung ist. Die abschließende Dokumentation des Projekts sowie die Präsentation in Form eines Werbevideos spiegelten praxisnahe Anforderungen wider, wie sie im Unternehmensumfeld häufig anzutreffen sind, beispielsweise bei der Präsentation von Projektideen vor Entscheidungsträgern.
Das Zeitmanagement spielte eine wesentliche Rolle, da ein Zeitraum von drei Monaten zur Verfügung stand. Innerhalb dieses Zeitrahmens musste eine realistische Planung erfolgen, um sicherzustellen, dass das Projekt im Rahmen der vorgegebenen Zeit abgeschlossen werden konnte. Dadurch war eine frühzeitige Strukturierung des Projektverlaufs erforderlich, um potenzielle Zeitverluste durch fehlgeschlagene Versuche oder Lieferverzögerungen zu minimieren. Insgesamt ermöglichte das „Helloworld“-Projekt eine praxisnahe Auseinandersetzung mit typischen Herausforderungen und Anforderungen, wie sie im betrieblichen Alltag zu erwarten sind.
1.3	Stand der Technik / Marktanalyse
Im Bereich der Smart-Türschlösser gibt es einige verschiedene Typen. Dazu gehören Schlösser, bei welchen man mit integrierter Tastatur oder Touchpad einen Pin-Code eingeben muss. Außerdem sind Fingerabdruck-gesteuerte und RFID-gesteuerte Türschlösser weit verbreitet. Außerdem gibt es auch Schlösser, welche ausschließlich mit einer App gesteuert sind, wie zum Beispiel das weit verbreitete Nuki-Türschloss. Diese werden an der Innenseite der Tür angebracht und können mithilfe von Motoren den Türschlüssel so drehen, dass die Tür abgeschlossen oder aufgeschlossen wird. Dieser Motor wird von einer Batterie betrieben und ist mit Bluetooth über eine App erreichbar und steuerbar. Innerhalb der App kann man vieles einstellen, wie z. B. eine Zeit, ab welcher die Tür automatisch abschließt, oder eine Erkennung, welche die Tür auch schon bei der Annäherung von dem autorisierten Smartphone aufschließt. Auf der Innenseite der Tür, an welcher das Schloss angebracht ist, gibt es außerdem einen Knopf, welcher die Türe auf und abschließt, auch wenn die App nicht erreichbar ist, als auch eine manuelle Drehscheibe, mit welcher der Motor mit Hand gedreht werden kann, sollte das System ausfallen. Bei solchem Schlossdesign ist es auch wichtig, dass der Motor in der Zeit, in welcher er nicht verwendet wird, auch frei bewegbar ist, da sonst ein Schlüssel von außen nicht mehr drehbar wäre. Die Batterie zum Betrieb des Schlosses hält zum einen bis zu 6 Monate mit einmaligem Laden und ist außerdem auch schnell austauschbar und aufladbar, was optimal für so ein Türschloss ist. Dazu kommt noch die starke Ende-zu-Ende-Verschlüsselung, was dieses Schloss zu einem der meist beliebtesten Smart-Schloss-Produkten auf dem Markt macht. Dennoch stellt der Preis eine beträchtliche Herausforderung für einige dar, da die neueste Version mit 280 € recht teuer ist. 
 
Abbildung 1: Nuki Smart-Schloss 
1.4	Methodische Entwicklung einer Projektidee
Um auf eine passende Idee für das Projekt zu finden, mussten erstmal einige Phasen durchlaufen werden. Begonnen wurde dabei mit einem Brainstorming, in welchem alle Projektideen erst gesammelt werden. Dabei lag der Fokus darauf, Probleme im Alltag zu notieren, welche in eines der Bereiche in welchem das Projekt fallen sollte. Nachdem die unterschiedlichen Ideen gesammelt wurden, wird entschieden, welche der Ideen am besten in diesem Projekt realisierbar ist. Dazu wurden mehrere Kriterien in Betracht bezogen, wie z.B. die benötigte Zeit, benötigte Materialien und die Komplexität. Unter Beachtung dieser Aspekte wurde dann eine Lösung zu dem folgenden Problem entwickelt. Eine der wichtigsten Sachen, die man immer mitnehmen sollte, wenn man das Haus verlässt, ist der Hausschlüssel. Trotzdem kann es mal passieren, dass man diesen im Haus vergisst und sich somit aussperrt. Hat niemand anderes einen weiteren Hausschlüssel, hat man ein mächtiges Problem. Man könnte versuchen, den Kontakt mit dem Vermieter oder der Hausverwaltung aufzunehmen, da diese öfters mal einen Ersatzschlüssel besitzen, jedoch sind diese nicht rund um die Uhr erreichbar. Vor allem in einem Wohnheim, wo viele der Studierenden lebten, hat die Verwaltung nur zu bestimmten Uhrzeiten offen, was diese Möglichkeit oft wegfallen lässt. Als Letztes könnte ein Schlüsseldienst gerufen werden, welcher zwar rund um die Uhr erreichbar ist, jedoch zu sehr hohen Kosten führen kann. Um gegen so eine Situation vorzubeugen und den Hausbesitzern ein bisschen die Last abzunehmen, können Smart-Schlösser genutzt werden. Diese sind nämlich auch ohne Hausschlüssel nutzbar, jedoch muss man hierfür auch eine Art von Autorisierung mitführen, wie z. B. ein Telefon oder wie in diesem Projekt eine RFID-Karte. Mit diesem Hintergrund wurde dieses Projekt ausgewählt. Jetzt muss man nur noch feststellen, welche Art von Smart-Schloss entwickelt werden soll. Alle unterschiedlichen Arten haben ihre Vor- und Nachteile. Außerdem gibt es außer den Autorisierungsmaßnahmen noch die Frage, wie man die Türe aufschließen kann. Außer dem Ansatz, welchen das Nuki-Smartschloss nutzt, gibt es noch zwei weitere Methoden, so ein Schloss zu entwickeln. Bei dem einen würde man das Türschloss nicht verwenden und einen anderen Weg finden, die Türe vom Öffnen zu blockieren. Dazu kann zum Beispiel ein Linearaktuator genutzt werden, um die Tür physikalisch zu blockieren, jedoch ist dies eine sehr primitive Lösung, welche dann auch mit genügend Gewalt wieder übergehen werden kann. Als Zweites könnte man etwas entwickeln, was den Türgriff nach unten zieht und somit bei nicht abgeschlossener Tür die Türe öffnet. Dazu können zum Beispiel Seile verwendet werden, welche dann von einem Servomotor unter der Türe aufgewickelt werden können und somit den Druck nach unten generieren. Somit hatte man einen Mechanismus, welcher die Türe öffnen könnte, aber welcher nur funktioniert, wenn man die Türe nicht zusätzlich abgeschlossen hatte. Dies würde jedoch zu einer großen Sicherheitslücke führen, da man das gesamte Smartschloss umgehen könnte, indem man mit einer Karte die Falle zurückdrücken und somit die Tür öffnet. Deswegen wurde die Entscheidung getroffen, einen ähnlichen Mechanismus zu verwenden, wie das Nuki-Smartschloss, mit einem Motor, welcher den Hausschlüssel in die gewollte Position dreht. Als Authentifizierungskriterium soll ein RFID-Tag verwendet werden, da diese sicher sind und leicht mitzuführen sind. Außerdem benötigt man schon so seinen Mitarbeiterausweis, um in das Werk zu kommen und einstempeln zu können, also ist es schon Teil der Routine einen RFID-Tag mitzutragen, weswegen es leicht ist, einen Zweiten z. B. an dieselbe ausfahrbare Rolle wie den Werksausweis zu befestigen. Andere Überlegungen waren es, einen Fingerabdrucksensor für die Authentifizierung zu benutzen oder über eine Codeeingabe die Türe zu entriegeln, jedoch bringen diese Ansätze eigene Probleme mit sich. Mit dem Fingerabdrucksensor wäre es nicht möglich, Zugriff an eine weitere Person einzurichten, ohne dass diese schon am Schloss steht. Mithilfe des RFID-Lesers kann man nämlich mehrere IDs zulassen und immer eine Gästekarte mitnehmen, wenn mal ein Kollege etwas aus dem Haus holen sollte, kann man diesem einfach die Karte mitgeben und im Notfall später diese ID wieder blockieren. Erhält man die Karte dann später wieder zurück, weiß man, dass diese Person keinen Zugriff mehr auf das Haus hat. Bei einer Codeeingabe hat man das Problem, dass man sich immer einen Code merken muss und sobald man mal den Code einer weiteren Person temporär übergeben will, wie in dem vorherigen Beispiel, man den Code danach wieder ändern muss und somit wieder einen neuen merken. Als Letztes sollte das Schloss noch eine Möglichkeit haben, den momentanen Schließstatus anzuzeigen. Es wäre möglich, ein LCD zu verbauen, jedoch wurde aus Zeitgründen ein einfaches LED-System verbaut, welches bei geöffneter Tür grün leuchten und bei verschlossener Tür rot leuchten.
1.5	Technische Umsetzung
Als allererstes sollte erstmal klargestellt werden, wie man den Schlüssel gedreht bekommt. Dazu wird ein 3D gedruckter Halter verwendet, an welchen der Motor und der Arduino befestigt werden kann. Um alle 3D gedruckten Teile zu erstellen, wurde Autodesk Fusion 360 verwendet und mithilfe von Cura 4.0 gesliced und gedruckt. Gedruckt wurde mit dem Ender 3 V2 von Creality. Als Plastik wurde PLA verwendet, da dieses kostengünstig, leicht zu drucken und für den Nutzen in diesem Projekt stark genug ist. Der gedruckte Halter hält den Motor in der richtigen Weite vor dem Schloss und wird mithilfe der schon vorhandenen Bolzen der Schlossabdeckung festgeschraubt. Aufgrund der Tatsache, dass die richtige Schraubenlänge nicht zur Verfügung stand, mussten die Schraubenlöcher am Halter um einiges herausgezogen werden. In Abbildung 2 ist der verwendete Motor. Ein Nema 17HS19 Stepper-Motor wurde gewählt, da dieser sich im Gegensatz zu den meisten Servomotoren um mehr als 360° drehen kann, was für so ein Türschloss wichtig ist. Auf der Welle des Motors kommt dann ein 3D gedruckter Halter, in welchen der Schlüssel hineinpasst. Wird nun der Motor gedreht, wird der Schlüssel mitgedreht. Da die Kabel des Motors um einiges länger waren, als benötigt, wurden diese noch einige Male um den Motor gewickelt. Um den Motor drehen zu können, wird ein DRV8825 Motortreiber, welcher in Abbildung 3 zu sehen ist, verwendet, welcher die Signale vom Arduino nimmt und die 12V von einem 1,5A Netzteil so verteilt, dass sich der Motor in die gewollte Richtung dreht. 
 
Abbildung 2: Nema 17 Motor 
 
Abbildung 3: DRV 8825 Motor Treiber 
Mit diesem Motortreiber sollte auch der Strom begrenzt werden, da man zum Beispiel mit einer 12V Versorgung eine viel höhere Schrittrate ermöglicht, der Motor jedoch mit einer Stromzufuhr von mehr als 2A beschädigt werden kann. Obwohl das Netzteil maximal 1,5A ausgeben kann, kam es ohne eine Beschränkung zur Instabilität des Motors, was dazu führt, dass der Motor exzessiv vibriert, als auch zum Überhitzen des Motortreibers, weswegen dieser dann ausgetauscht werden musste. Zur Begrenzung des Stromes kann ein Trimmpotentiometer, welcher am Treiber verbaut ist, eingestellt werden. Mithilfe der Analogpins des Arduinos kann die Referenzspannung an diesem Potentiometer gemessen werden. Bei 5V geben die Analogen Pins einen Wert von 4096 aus, womit man dann die Spannung pro Schritt berechnen kann. Diese Grenze wurde so eingestellt, dass an dem Potentiometer 1V anliegen. Um den Code einfacher zu gestalten, wurde in diesem Projekt die Accelstepper, SPI und MFRC522 Libary verwendet. In der Setup Funktion wird zuerst der Steppermotor initialisiert, die Maximalgeschwindigkeit, sowie die Maximalbeschleunigung festgelegt und die momentane Position als Nullwert gesetzt. Als Letztes werden hier noch die pinModes festgelegt und das RFC-Modul initialisiert. In der Loop Funktion werden 4 Unterfunktionen aufgerufen. Dazu gehört die card(), motor(), led(), und button() Funktion. 
 
Abbildung 4: Code der card() Funktion
Die card() Funktion in Zeile 46 überprüft jederzeit, ob das RC522 RFID Modul eine RFID-Karte erkennt. Wird eine Karte erkannt, wird ihre ID mithilfe einer For-Schleife in einem leeren String gespeichert. Stimmt der Inhalt dieses Strings mit einem der im Programmcode gespeicherten autorisierten IDs überein, so wird die openLock() Funktion ausgeführt.
 
Abbildung 5: Coder der openLock() Funktion
 Diese setzt die moveTo Position des Motors auf die, zum Öffnen der Tür benötigten Position, und setzt die motorMoving Variable auf wahr. 
 
Abbildung 6: Code der motor() Funktion
Die motor() Funktion, die jederzeit mit der Loop() Funktion ausgeführt wird, lässt den Motor dann auf die moveTo Position laufen. Stimmt die momentane Position mit der Position, die der Öffnungsposition überein, weiß das Programm, dass der rechte Anschlag des Schlosses erreicht ist und wartet, dann mit einem Delay von einer Sekunde. Daraufhin wird die moveTo Position wieder auf die Startposition gestellt und der Motor bewegt sich wieder an die Anfangsposition. Ist die moveTo Position erreicht, wird die motorMoving variable wieder auf falsch geschaltet. Diese Variable ist dafür zuständig, dass die grüne LED bei der Bewegung des Motors blinkt. Dieses Blinken musste mit einer einstellbaren Zeitdifferenz gesteuert werden, da die Nutzung von Delays zu ungewollten Warten des gesamten Programmes führen würde. Somit funktioniert auch schon das Aufschließen. Zur Steuerung des Abschließens wird die button() Funktion verwendet. 
 
Abbildung 7: Code der button() Funktion
Diese setzt am Anfang die buttonState Variable auf den momentanen Wert des Knopfes. Ist dieser gleich des letzten gespeicherten buttonStates, wird dieser Wert in der lastButtonState Variable gespeichert. Unterscheiden sich die beiden Variablen jedoch beim nächsten Durchlauf und wird der Knopf momentan gedrückt und wenn der Motor momentan nicht in Bewegung ist, wird geprüft, ob die locked Variable wahr oder falsch ist. Ist die Variable unwahr, wird die moveTo Position auf 400 gesetzt, motorMoving auf wahr und locked auf wahr gesetzt. Somit schließt das Schloss dann die Türe beim nächsten Durchlauf der motor()Funktion ab.  Die richtige Position, die für das Zuschließen des Schlosses benötigt wird, wurde experimentell ermittelt. War die locked Variable wahr, wird die moveTo Position auf den Anfangszustand, also 0 gesetzt, motorMoving wieder auf wahr und locked auf falsch gesetzt.  Somit öffnet das Schloss beim nächsten Durchlauf der motor() Funktion. 
 
Abbildung 8: Code der led() Funktion
In der led() Funktion, welche wieder mit jedem Durchlauf der Loop Funktion ausgeführt wird, wird die locked Variable genutzt, um die LEDs  zu steuern. Ist die Türe abgeschlossen, leuchtet die rote LED. Ist diese aufgeschlossen, leuchtet die grüne LED. Dies ist alles, was der Arduino macht. Der Arduino wird dann ebenfalls auf dem 3D gedruckten Halter verschraubt. Um dies zu ermöglichen, wurden Gewinde in die freigelassenen Löcher des Halters mithilfe eines Lötkolbens geschmolzen. Somit wird der sichere Halt des Arduinos versichert. Damit nicht noch ein getrenntes Breadboard auf dem Halter befestigt werden muss, wird ein Arduino Shield mit integriertem Mini-Breadboard verwendet. Dieses wird dann einfach auf den Arduino gesteckt. Damit nicht zwei Kabel für die Stromversorgung des Motors und dem Arduino benötigt werden. Wurden die 12V des externen Netzteiles an den Strom-Input PIN des Arduinos angeschlossen, was dann denselben Effekt hat, wie wenn man das für den Arduino ein 12V Netzteil an die Hohlbuchse anschließt. Der RFID-Leser wurde dann noch mit Klebeband auf die Außentüre festgemacht. 
   
Abbildung 4: Prototyp von der Seite		Abbildung 5:RC522 		Abbildung 6: Prototyp von vorne

1.6	Kritische Reflexion
Eines der größten Probleme, welche während des Projektes aufgetreten sind, war die Auswahl des Motors. Der Nema 17HS19 Stepper-Motor, welcher in der letzten Version des Prototyps verwendet wurde, war nur knapp stark genug, den Schlüssel an die richtige Position zu drehen. Dies hat dazu geführt, dass dieser manchmal nicht stark genug war und somit einige Zähne gesprungen sind und der Motor dann nicht richtig gedreht hat. Da der Motorcode die Position nicht mit der realen Position, sondern über die gelaufenen Schritte ermittelt, ist es nicht möglich, solche Sprünge zu erkennen und korrigieren, weswegen man bei solchem Fehler die Position des Motors manuell wieder auf die Nullstellung kalibrieren muss. Dies bedeutet aber, dass man von außen dann keine weitere Möglichkeit hat, die Türe, ohne den Schlüssel wieder aufzuschließen. Um dieses Problem zu beheben, wäre es möglich, mithilfe von Zahnrädern die Drehgeschwindigkeit zu verringern, somit jedoch das Drehmoment, um einiges zu erhöhen. Diese Zahnräder könnte man ebenfalls 3D drucken. Eine weitere Möglichkeit, dieses Problem zu umgehen, wäre die Nutzung von starken Servomotoren. Davon sind viele auf dem Markt, welche um die 35 kg an Kraft liefern können. Diese sind jedoch nicht nur teurer, sondern sind meistens auch auf einen Umdrehungswinkel von 270°-360° beschränkt. Somit hätte man zwar genug Kraft für die Umdrehung, aber der Drehradius wäre nicht groß genug, die Tür doppelt zu verschließen, und somit würde eine wichtige Funktion des Schlosses wegfallen. Als letzte und einfachste Lösung könnte man versuchen, einen stärkeren Schrittmotor zu finden, wozu leider die Projektzeit nicht mehr ausgereicht hat. 
Das Nutzen einer externen Spannungsquelle ist auch nicht optimal, da so die Praktikabilität dieses Schlosses um einiges eingeschränkt wird. Nicht nur ist diese Lösung ästhetisch mangelhaft, sondern bringt auch das Problem mit sich, dass man nicht immer eine Steckdose in der Nähe der Haustüre hat. Um dieses Problem zu lösen, könnte eine aufladbare Batterie verbaut werden. Dazu müsste außerdem eine Ladeplatine mit verbaut werden, um die Batterie sicher laden und nutzen zu können.
Damit das gesamte System benutzerfreundlicher gestaltet, könnte auch ein LCD genutzt werden. Somit könnte man anzeigen lassen, wenn das System nach einer RFID-Karte sucht, ob eine falsche Karte gelesen wird oder ob es sonstige Probleme bei der Kartenlesung gibt. Außerdem könnte der momentane Zustand des Schlosses auf dem Display angezeigt werden. Eine weitere Funktion, die für ein solches System wichtig ist, wäre das leichte Hinzufügen und Herauslöschen von neuen RFID-IDs, ohne den Code bearbeiten zu müssen. Dazu könnte man ein Menü entwickeln, welches entweder mit Knöpfen oder mit einem Joystick gesteuert werden kann. Mithilfe einer Real-Time-Clock wäre es auch möglich, die letzten Öffnungszeiten und mit welcher ID das Schloss geöffnet wurde, zu speichern und abzulesen. Somit könnte man ungewollten Zutritt in das Haus leicht erkennen und Maßnahmen ergreifen, entgegenzuwirken. 
